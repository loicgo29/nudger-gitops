apiVersion: actions.summerwind.dev/v1alpha1
kind: RunnerDeployment
metadata:
  name: nudger-gitops-recette-runner
  namespace: ns-open4goods-recette
spec:
  replicas: 1
  template:
    spec:
      repository: loicgo29/nudger-gitops
      image: ghcr.io/actions/actions-runner:2.311.0   # runner "sec", pas de docker
      dockerdWithinRunnerContainer: false             # dÃ©sactivÃ©
      containerMode: kubernetes
      workVolumeClaimTemplate:        # ðŸ‘ˆ requis en mode kubernetes
        storageClassName: longhorn-1r
        accessModes: ["ReadWriteOnce"]
        resources:
          requests:
            storage: 10Gi
      labels:
        - self-hosted
        - nudger-gitops
        - recette
