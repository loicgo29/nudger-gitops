apiVersion: actions.summerwind.dev/v1alpha1
kind: RunnerSet
metadata:
  name: nudger-gitops-recette-runnerset
  namespace: ns-open4goods-recette
spec:
  replicas: 1
  repository: loicgo29/nudger-gitops
  serviceName: nudger-gitops-recette-runnerset # must match a headless Service
  selector:
    matchLabels:
      app: nudger-gitops-recette-runnerset
  template:
    metadata:
      labels:
        app: nudger-gitops-recette-runnerset
    spec:
      containers:
        - name: runner
          image: ghcr.io/actions/actions-runner:2.311.0
          envFrom:
            - secretRef:
                name: actions-runner-controller
          volumeMounts:
            - name: work
              mountPath: /runner/_work
      volumes:
        - name: work
          emptyDir: {}
