name: Test All Runners

on:
  workflow_dispatch:

jobs:
  test-recette:
    name: Test Recette Runner
    runs-on: [self-hosted, nudger-gitops, recette]
    steps:
      - name: Show runner info
        run: |
          echo "=== Recette Runner ==="
          echo "Runner OS: $RUNNER_OS"
          echo "Runner name: $RUNNER_NAME"
          echo "Repo: $GITHUB_REPOSITORY"
      - name: Docker test
        run: docker ps || echo "⚠️ Docker not available"

  test-integration:
    name: Test Integration Runner
    runs-on: [self-hosted, nudger-gitops, integration]
    steps:
      - name: Show runner info
        run: |
          echo "=== Integration Runner ==="
          echo "Runner OS: $RUNNER_OS"
          echo "Runner name: $RUNNER_NAME"
          echo "Repo: $GITHUB_REPOSITORY"
      - name: Docker test
        run: docker ps || echo "⚠️ Docker not available"
