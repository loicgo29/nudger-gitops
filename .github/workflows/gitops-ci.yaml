jobs:
  sanitycheck:
    runs-on: [self-hosted, nudger-gitops]
    steps:
      - uses: actions/checkout@v4

      - name: Install tools (kubectl, kustomize, kubeconform)
        run: bash scripts/ci/install-tools.sh

      - name: Check kustomizations (build only)
        run: |
          for cluster in clusters/*; do
            echo "ðŸ”§ Checking $cluster"
            kustomize build "$cluster" >/dev/null
          done
