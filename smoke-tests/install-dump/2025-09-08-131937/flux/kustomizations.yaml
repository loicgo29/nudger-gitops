apiVersion: v1
items:
- apiVersion: kustomize.toolkit.fluxcd.io/v1
  kind: Kustomization
  metadata:
    annotations:
      reconcile.fluxcd.io/requestedAt: "2025-09-08T11:30:31.478770049Z"
    creationTimestamp: "2025-09-01T11:17:27Z"
    finalizers:
    - finalizers.fluxcd.io
    generation: 18
    labels:
      kustomize.toolkit.fluxcd.io/name: lab-root
      kustomize.toolkit.fluxcd.io/namespace: flux-system
    name: apps
    namespace: flux-system
    resourceVersion: "2190519"
    uid: 99d7c494-e1a8-4865-8793-85b49ccbeb13
  spec:
    dependsOn:
    - name: ingress-nginx
    - name: infra-longhorn
    force: false
    interval: 1m
    path: ./apps/whoami
    prune: true
    sourceRef:
      kind: GitRepository
      name: gitops
    timeout: 5m
    wait: true
  status:
    conditions:
    - lastTransitionTime: "2025-09-08T12:06:55Z"
      message: dependency 'flux-system/infra-longhorn' is not ready
      observedGeneration: 18
      reason: DependencyNotReady
      status: "False"
      type: Ready
    - lastTransitionTime: "2025-09-08T12:05:53Z"
      message: Health check passed in 67.293778ms
      observedGeneration: 18
      reason: Succeeded
      status: "True"
      type: Healthy
    inventory:
      entries:
      - id: _whoami__Namespace
        v: v1
      - id: whoami_whoami__Service
        v: v1
      - id: whoami_whoami_apps_Deployment
        v: v1
      - id: whoami_whoami_networking.k8s.io_Ingress
        v: v1
    lastAppliedRevision: main@sha1:37a971067471445e399241f8ffb6aa0422a3b8b6
    lastAttemptedRevision: main@sha1:37a971067471445e399241f8ffb6aa0422a3b8b6
    lastHandledReconcileAt: "2025-09-08T11:30:31.478770049Z"
    observedGeneration: 18
- apiVersion: kustomize.toolkit.fluxcd.io/v1
  kind: Kustomization
  metadata:
    annotations:
      reconcile.fluxcd.io/requestedAt: "2025-09-08T10:28:32.347533801Z"
    creationTimestamp: "2025-09-06T07:08:57Z"
    finalizers:
    - finalizers.fluxcd.io
    generation: 13
    labels:
      kustomize.toolkit.fluxcd.io/name: lab-root
      kustomize.toolkit.fluxcd.io/namespace: flux-system
    name: cert-manager
    namespace: flux-system
    resourceVersion: "2207665"
    uid: 13829fe1-2ac6-4184-809a-43fd28aded03
  spec:
    force: false
    interval: 5m
    path: ./infra/cert-manager/overlays/lab
    prune: true
    sourceRef:
      kind: GitRepository
      name: gitops
  status:
    conditions:
    - lastTransitionTime: "2025-09-08T13:17:35Z"
      message: 'Applied revision: main@sha1:37a971067471445e399241f8ffb6aa0422a3b8b6'
      observedGeneration: 13
      reason: ReconciliationSucceeded
      status: "True"
      type: Ready
    inventory:
      entries:
      - id: _cert-manager__Namespace
        v: v1
      - id: cert-manager_cert-manager_helm.toolkit.fluxcd.io_HelmRelease
        v: v2
      - id: flux-system_cert-manager_source.toolkit.fluxcd.io_HelmRepository
        v: v1
    lastAppliedRevision: main@sha1:37a971067471445e399241f8ffb6aa0422a3b8b6
    lastAttemptedRevision: main@sha1:37a971067471445e399241f8ffb6aa0422a3b8b6
    lastHandledReconcileAt: "2025-09-08T10:28:32.347533801Z"
    observedGeneration: 13
- apiVersion: kustomize.toolkit.fluxcd.io/v1
  kind: Kustomization
  metadata:
    annotations:
      reconcile.fluxcd.io/requestedAt: "2025-09-08T10:28:36.714231047Z"
    creationTimestamp: "2025-09-06T07:08:57Z"
    finalizers:
    - finalizers.fluxcd.io
    generation: 3
    labels:
      kustomize.toolkit.fluxcd.io/name: lab-root
      kustomize.toolkit.fluxcd.io/namespace: flux-system
    name: cert-manager-issuers
    namespace: flux-system
    resourceVersion: "2207958"
    uid: 90e0ef14-5872-4688-8827-f7702f490c4f
  spec:
    dependsOn:
    - name: cert-manager
    force: false
    interval: 5m
    path: ./infra/cert-manager-issuers/overlays/lab
    prune: true
    sourceRef:
      kind: GitRepository
      name: gitops
  status:
    conditions:
    - lastTransitionTime: "2025-09-08T13:18:45Z"
      message: 'Applied revision: main@sha1:37a971067471445e399241f8ffb6aa0422a3b8b6'
      observedGeneration: 3
      reason: ReconciliationSucceeded
      status: "True"
      type: Ready
    inventory:
      entries:
      - id: _cert-manager__Namespace
        v: v1
      - id: cert-manager_cert-manager-params__ConfigMap
        v: v1
      - id: _letsencrypt-prod_cert-manager.io_ClusterIssuer
        v: v1
      - id: _letsencrypt-staging_cert-manager.io_ClusterIssuer
        v: v1
    lastAppliedRevision: main@sha1:37a971067471445e399241f8ffb6aa0422a3b8b6
    lastAttemptedRevision: main@sha1:37a971067471445e399241f8ffb6aa0422a3b8b6
    lastHandledReconcileAt: "2025-09-08T10:28:36.714231047Z"
    observedGeneration: 3
- apiVersion: kustomize.toolkit.fluxcd.io/v1
  kind: Kustomization
  metadata:
    annotations:
      reconcile.fluxcd.io/requestedAt: "2025-09-08T10:28:41.14258768Z"
    creationTimestamp: "2025-09-06T16:00:01Z"
    finalizers:
    - finalizers.fluxcd.io
    generation: 3
    labels:
      kustomize.toolkit.fluxcd.io/name: lab-root
      kustomize.toolkit.fluxcd.io/namespace: flux-system
    name: infra-longhorn
    namespace: flux-system
    resourceVersion: "2207807"
    uid: 1385a0d0-e58b-4222-ad87-78ed9908ade6
  spec:
    dependsOn: []
    force: false
    interval: 1m
    path: infra/longhorn/overlays/lab
    prune: true
    sourceRef:
      kind: GitRepository
      name: gitops
    timeout: 5m
    wait: true
  status:
    conditions:
    - lastTransitionTime: "2025-09-08T13:18:05Z"
      message: Running health checks for revision main@sha1:37a971067471445e399241f8ffb6aa0422a3b8b6
        with a timeout of 5m0s
      observedGeneration: 3
      reason: Progressing
      status: "True"
      type: Reconciling
    - lastTransitionTime: "2025-09-08T13:18:05Z"
      message: Reconciliation in progress
      observedGeneration: 3
      reason: Progressing
      status: Unknown
      type: Ready
    - lastTransitionTime: "2025-09-08T13:18:05Z"
      message: Running health checks for revision main@sha1:37a971067471445e399241f8ffb6aa0422a3b8b6
        with a timeout of 5m0s
      observedGeneration: 3
      reason: Progressing
      status: Unknown
      type: Healthy
    inventory:
      entries:
      - id: _longhorn-system__Namespace
        v: v1
      - id: _longhorn_storage.k8s.io_StorageClass
        v: v1
      - id: _longhorn-db_storage.k8s.io_StorageClass
        v: v1
      - id: longhorn-system_longhorn-basic-auth__Secret
        v: v1
      - id: longhorn-system_longhorn-frontend__Service
        v: v1
      - id: longhorn-system_longhorn_helm.toolkit.fluxcd.io_HelmRelease
        v: v2
      - id: longhorn-system_longhorn-ui_networking.k8s.io_Ingress
        v: v1
      - id: flux-system_longhorn_source.toolkit.fluxcd.io_HelmRepository
        v: v1
    lastAppliedRevision: main@sha1:37a971067471445e399241f8ffb6aa0422a3b8b6
    lastAttemptedRevision: main@sha1:37a971067471445e399241f8ffb6aa0422a3b8b6
    lastHandledReconcileAt: "2025-09-08T10:28:41.14258768Z"
    observedGeneration: 3
- apiVersion: kustomize.toolkit.fluxcd.io/v1
  kind: Kustomization
  metadata:
    annotations:
      reconcile.fluxcd.io/requestedAt: "2025-09-08T11:30:23.844674458Z"
    creationTimestamp: "2025-09-01T11:17:27Z"
    finalizers:
    - finalizers.fluxcd.io
    generation: 13
    labels:
      kustomize.toolkit.fluxcd.io/name: lab-root
      kustomize.toolkit.fluxcd.io/namespace: flux-system
    name: ingress-nginx
    namespace: flux-system
    resourceVersion: "2208008"
    uid: c9ad82ec-3196-425a-aaad-09e5836e1712
  spec:
    dependsOn: []
    force: false
    healthChecks:
    - apiVersion: apps/v1
      kind: Deployment
      name: ingress-nginx-controller
      namespace: ingress-nginx
    interval: 1m
    path: apps/ingress-nginx/overlays/lab
    prune: true
    sourceRef:
      kind: GitRepository
      name: gitops
    timeout: 5m
    wait: true
  status:
    conditions:
    - lastTransitionTime: "2025-09-08T13:18:54Z"
      message: 'Applied revision: main@sha1:37a971067471445e399241f8ffb6aa0422a3b8b6'
      observedGeneration: 13
      reason: ReconciliationSucceeded
      status: "True"
      type: Ready
    - lastTransitionTime: "2025-09-08T13:18:54Z"
      message: Health check passed in 11.993839ms
      observedGeneration: 13
      reason: Succeeded
      status: "True"
      type: Healthy
    inventory:
      entries:
      - id: _ingress-nginx__Namespace
        v: v1
      - id: ingress-nginx_ingress-nginx_helm.toolkit.fluxcd.io_HelmRelease
        v: v2
    lastAppliedRevision: main@sha1:37a971067471445e399241f8ffb6aa0422a3b8b6
    lastAttemptedRevision: main@sha1:37a971067471445e399241f8ffb6aa0422a3b8b6
    lastHandledReconcileAt: "2025-09-08T11:30:23.844674458Z"
    observedGeneration: 13
- apiVersion: kustomize.toolkit.fluxcd.io/v1
  kind: Kustomization
  metadata:
    annotations:
      reconcile.fluxcd.io/requestedAt: "2025-09-08T11:17:59.494038294Z"
    creationTimestamp: "2025-09-01T11:17:27Z"
    finalizers:
    - finalizers.fluxcd.io
    generation: 1
    name: lab-root
    namespace: flux-system
    resourceVersion: "2207974"
    uid: b3ecd5e0-e807-4081-8a20-f11c71527fbb
  spec:
    force: false
    interval: 1m
    path: ./clusters/lab
    prune: true
    sourceRef:
      kind: GitRepository
      name: gitops
    timeout: 5m
    wait: false
  status:
    conditions:
    - lastTransitionTime: "2025-09-08T13:18:46Z"
      message: 'Applied revision: main@sha1:37a971067471445e399241f8ffb6aa0422a3b8b6'
      observedGeneration: 1
      reason: ReconciliationSucceeded
      status: "True"
      type: Ready
    inventory:
      entries:
      - id: flux-system_apps_kustomize.toolkit.fluxcd.io_Kustomization
        v: v1
      - id: flux-system_cert-manager_kustomize.toolkit.fluxcd.io_Kustomization
        v: v1
      - id: flux-system_cert-manager-issuers_kustomize.toolkit.fluxcd.io_Kustomization
        v: v1
      - id: flux-system_infra-longhorn_kustomize.toolkit.fluxcd.io_Kustomization
        v: v1
      - id: flux-system_ingress-nginx_kustomize.toolkit.fluxcd.io_Kustomization
        v: v1
      - id: flux-system_observability_kustomize.toolkit.fluxcd.io_Kustomization
        v: v1
      - id: flux-system_sources_kustomize.toolkit.fluxcd.io_Kustomization
        v: v1
    lastAppliedRevision: main@sha1:37a971067471445e399241f8ffb6aa0422a3b8b6
    lastAttemptedRevision: main@sha1:37a971067471445e399241f8ffb6aa0422a3b8b6
    lastHandledReconcileAt: "2025-09-08T11:17:59.494038294Z"
    observedGeneration: 1
- apiVersion: kustomize.toolkit.fluxcd.io/v1
  kind: Kustomization
  metadata:
    annotations:
      reconcile.fluxcd.io/requestedAt: "2025-09-08T10:30:50.103574992Z"
    creationTimestamp: "2025-09-06T07:08:57Z"
    finalizers:
    - finalizers.fluxcd.io
    generation: 5
    labels:
      kustomize.toolkit.fluxcd.io/name: lab-root
      kustomize.toolkit.fluxcd.io/namespace: flux-system
    name: observability
    namespace: flux-system
    resourceVersion: "2207686"
    uid: ce7830d2-ff85-49a3-940d-70c93d085bf1
  spec:
    force: false
    interval: 5m
    path: ./infra/observability/overlays/lab
    prune: true
    sourceRef:
      kind: GitRepository
      name: gitops
  status:
    conditions:
    - lastTransitionTime: "2025-09-08T13:17:38Z"
      message: 'Applied revision: main@sha1:37a971067471445e399241f8ffb6aa0422a3b8b6'
      observedGeneration: 5
      reason: ReconciliationSucceeded
      status: "True"
      type: Ready
    inventory:
      entries:
      - id: _logging__Namespace
        v: v1
      - id: _observability__Namespace
        v: v1
      - id: observability_grafana-dashboard-app-exceptions__ConfigMap
        v: v1
      - id: observability_grafana-dashboard-flux-errors__ConfigMap
        v: v1
      - id: observability_grafana-dashboard-ingress-5xx__ConfigMap
        v: v1
      - id: observability_grafana-datasource-loki__ConfigMap
        v: v1
      - id: logging_loki_helm.toolkit.fluxcd.io_HelmRelease
        v: v2
      - id: logging_promtail_helm.toolkit.fluxcd.io_HelmRelease
        v: v2
      - id: observability_grafana_helm.toolkit.fluxcd.io_HelmRelease
        v: v2
      - id: observability_kube-prometheus-stack_helm.toolkit.fluxcd.io_HelmRelease
        v: v2
      - id: flux-system_grafana_source.toolkit.fluxcd.io_HelmRepository
        v: v1
      - id: flux-system_prometheus-community_source.toolkit.fluxcd.io_HelmRepository
        v: v1
    lastAppliedRevision: main@sha1:37a971067471445e399241f8ffb6aa0422a3b8b6
    lastAttemptedRevision: main@sha1:37a971067471445e399241f8ffb6aa0422a3b8b6
    lastHandledReconcileAt: "2025-09-08T10:30:50.103574992Z"
    observedGeneration: 5
- apiVersion: kustomize.toolkit.fluxcd.io/v1
  kind: Kustomization
  metadata:
    annotations:
      reconcile.fluxcd.io/requestedAt: "2025-09-08T11:18:03.989508456Z"
    creationTimestamp: "2025-09-08T08:49:24Z"
    finalizers:
    - finalizers.fluxcd.io
    generation: 3
    labels:
      kustomize.toolkit.fluxcd.io/name: lab-root
      kustomize.toolkit.fluxcd.io/namespace: flux-system
    name: sources
    namespace: flux-system
    resourceVersion: "2207047"
    uid: be7c02e4-3b95-438f-9ba8-44afc69e26f4
  spec:
    force: false
    interval: 10m
    path: ./flux-system/sources
    prune: true
    sourceRef:
      kind: GitRepository
      name: gitops
      namespace: flux-system
    wait: true
  status:
    conditions:
    - lastTransitionTime: "2025-09-08T13:15:00Z"
      message: Running health checks for revision main@sha1:37a971067471445e399241f8ffb6aa0422a3b8b6
        with a timeout of 9m30s
      observedGeneration: 3
      reason: ProgressingWithRetry
      status: "True"
      type: Reconciling
    - lastTransitionTime: "2025-09-08T13:15:00Z"
      message: 'health check failed after 9m30.027655203s: timeout waiting for: [HelmRepository/flux-system/ingress-nginx
        status: ''InProgress'']'
      observedGeneration: 3
      reason: HealthCheckFailed
      status: "False"
      type: Ready
    - lastTransitionTime: "2025-09-08T13:15:00Z"
      message: 'timeout waiting for: [HelmRepository/flux-system/ingress-nginx status:
        ''InProgress'']'
      observedGeneration: 3
      reason: HealthCheckFailed
      status: "False"
      type: Healthy
    inventory:
      entries:
      - id: flux-system_ingress-nginx_source.toolkit.fluxcd.io_HelmRepository
        v: v1
    lastAppliedRevision: main@sha1:37a971067471445e399241f8ffb6aa0422a3b8b6
    lastAttemptedRevision: main@sha1:37a971067471445e399241f8ffb6aa0422a3b8b6
    lastHandledReconcileAt: "2025-09-08T11:18:03.989508456Z"
    observedGeneration: 3
- apiVersion: kustomize.toolkit.fluxcd.io/v1
  kind: Kustomization
  metadata:
    annotations:
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"kustomize.toolkit.fluxcd.io/v1","kind":"Kustomization","metadata":{"annotations":{},"name":"whoami","namespace":"flux-system"},"spec":{"dependsOn":[{"name":"ingress-nginx"}],"interval":"1m","path":"./apps/whoami","prune":true,"sourceRef":{"kind":"GitRepository","name":"gitops"},"timeout":"5m","wait":true}}
      reconcile.fluxcd.io/requestedAt: "2025-09-08T10:30:58.829893283Z"
    creationTimestamp: "2025-09-06T19:39:39Z"
    finalizers:
    - finalizers.fluxcd.io
    generation: 2
    name: whoami
    namespace: flux-system
    resourceVersion: "2208183"
    uid: 56e5ef6e-e309-4c0a-bf78-5cfa0f009424
  spec:
    force: false
    interval: 1m
    path: ./apps/whoami
    prune: true
    sourceRef:
      kind: GitRepository
      name: gitops
    timeout: 5m
    wait: true
  status:
    conditions:
    - lastTransitionTime: "2025-09-08T13:19:39Z"
      message: 'Applied revision: main@sha1:37a971067471445e399241f8ffb6aa0422a3b8b6'
      observedGeneration: 2
      reason: ReconciliationSucceeded
      status: "True"
      type: Ready
    - lastTransitionTime: "2025-09-08T13:19:39Z"
      message: Health check passed in 238.488063ms
      observedGeneration: 2
      reason: Succeeded
      status: "True"
      type: Healthy
    inventory:
      entries:
      - id: _whoami__Namespace
        v: v1
      - id: whoami_whoami__Service
        v: v1
      - id: whoami_whoami_apps_Deployment
        v: v1
      - id: whoami_whoami_networking.k8s.io_Ingress
        v: v1
    lastAppliedRevision: main@sha1:37a971067471445e399241f8ffb6aa0422a3b8b6
    lastAttemptedRevision: main@sha1:37a971067471445e399241f8ffb6aa0422a3b8b6
    lastHandledReconcileAt: "2025-09-08T10:30:58.829893283Z"
    observedGeneration: 2
kind: List
metadata:
  resourceVersion: ""
